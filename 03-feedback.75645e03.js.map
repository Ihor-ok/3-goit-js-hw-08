{"mappings":"AAEA,MAAMA,EAAM,CACRC,MAAOC,SAASC,cAAc,kBAC9BC,QAASF,SAASC,cAAc,oBAChCE,OAAQH,SAASC,cAAc,mBAG7BG,EAAoB,CACtBL,MAAO,GACPG,QAAS,IAGbJ,EAAIC,MAAMM,iBAAiB,QAASC,UAcpC,SAAsBC,GAEdC,IACAJ,EAAkBL,MAAQU,EAA6BV,MACvDK,EAAkBF,QAAUO,EAA6BP,SAG5DE,EAAkBL,MAAQQ,EAAIG,OAAOC,MAEtCC,G,GAvBuD,MAC3Dd,EAAII,QAAQG,iBAAiB,QAASC,UA0BtC,SAAwBC,GAEhBC,IACAJ,EAAkBL,MAAQU,EAA6BV,MACvDK,EAAkBF,QAAUO,EAA6BP,SAG7DE,EAAkBF,QAAUK,EAAIG,OAAOC,MAEvCC,G,GAnC2D,MAC/Dd,EAAIK,OAAOE,iBAAiB,UAqC5B,SAAkBE,GAGd,GAFAA,EAAIM,iBAE4B,KAA5BT,EAAkBL,OAA8C,KAA9BK,EAAkBF,QACpD,OAGJY,aAAaC,WAAW,uBACxBC,QAAQC,IAAIb,GACZN,EAAII,QAAQgB,YAAc,GAC1BpB,EAAIK,OAAOgB,O,IA7Cf,MAAMX,EAAyBM,aAAaM,QAAQ,uBAC9CX,EAA+BY,KAAKC,MAAMd,GAiDhD,SAASI,IACLE,aAAaS,QAAQ,sBAAuBF,KAAKG,UAAUpB,G,CAhD3DI,IAEAV,EAAIC,MAAMY,MAAQF,EAA6BV,MAC/CD,EAAII,QAAQgB,YAAcT,EAA6BP","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n\nconst ref = {\n    email: document.querySelector('[name=\"email\"]'),\n    message: document.querySelector('[name=\"message\"]'),\n    button: document.querySelector('.feedback-form'),\n};\n\nconst currentFormValues = {\n    email: \"\",\n    message: \"\",\n};\n\nref.email.addEventListener('input', throttle(onEmailInput, 500));\nref.message.addEventListener('input', throttle(onMessageInput, 500));\nref.button.addEventListener('submit', onSubmit);\n\nconst formValuesLocalStorage = localStorage.getItem(\"feedback-form-state\");\nconst parsedFormValuesLocalStorage = JSON.parse(formValuesLocalStorage);\n\nif (formValuesLocalStorage) {\n    \n    ref.email.value = parsedFormValuesLocalStorage.email;\n    ref.message.textContent = parsedFormValuesLocalStorage.message;\n}\n\n\nfunction onEmailInput(evt) {\n     \n    if (formValuesLocalStorage) {\n        currentFormValues.email = parsedFormValuesLocalStorage.email;\n        currentFormValues.message = parsedFormValuesLocalStorage.message;\n    }\n\n     currentFormValues.email = evt.target.value;\n    // localStorage.setItem(\"feedback-form-state\", JSON.stringify(currentFormValues));\n    updatedStorage();\n\n};\n\nfunction onMessageInput(evt) {\n    \n    if (formValuesLocalStorage) {\n        currentFormValues.email = parsedFormValuesLocalStorage.email;\n        currentFormValues.message = parsedFormValuesLocalStorage.message;\n    }\n    \n    currentFormValues.message = evt.target.value;\n    // localStorage.setItem(\"feedback-form-state\", JSON.stringify(currentFormValues));\n    updatedStorage();\n};\n\nfunction onSubmit(evt) {\n    evt.preventDefault();\n\n    if (currentFormValues.email === \"\" && currentFormValues.message === \"\") {\n        return\n    }\n\n    localStorage.removeItem(\"feedback-form-state\");\n    console.log(currentFormValues);\n    ref.message.textContent = \"\";\n    ref.button.reset();\n\n\n};\n\nfunction updatedStorage() {\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(currentFormValues));\n}"],"names":["$945622fd0f572e60$var$ref","email","document","querySelector","message","button","$945622fd0f572e60$var$currentFormValues","addEventListener","throttle","evt","$945622fd0f572e60$var$formValuesLocalStorage","$945622fd0f572e60$var$parsedFormValuesLocalStorage","target","value","$945622fd0f572e60$var$updatedStorage","preventDefault","localStorage","removeItem","console","log","textContent","reset","getItem","JSON","parse","setItem","stringify"],"version":3,"file":"03-feedback.75645e03.js.map"}